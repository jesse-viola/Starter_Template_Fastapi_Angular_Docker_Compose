<!-- 🎯 LEARNING OBJECTIVE: Angular Template Syntax & Material UI Integration -->
<!-- This template demonstrates:
     1. Angular directives (*ngIf, property binding)
     2. Event binding (click, keyup.enter)
     3. Template reference variables
     4. Material UI components and directives
     5. Accessibility best practices -->

<div class="search-bar-container">
  <mat-icon class="search-icon">search</mat-icon>
  <input
    #input
    class="search-input"
    [formControl]="searchControl"
    [placeholder]="placeholder"
    (keyup.enter)="onSubmit()"
    (mouseenter)="onMouseEnter()"
    (mouseleave)="onMouseLeave()"
    (focus)="onFocus()"
    (input)="onInput()"
    type="text"
  />

  <!-- ❌ CLEAR BUTTON: Only shows when there's text -->
  <!-- TODO FOR YOU: What does @if do here? Try removing it temporarily -->
  @if (searchControl.value) {
  <button
    class="clear-button"
    (click)="clearSearch()"
    type="button"
    aria-label="Clear search"
  >
    <mat-icon>close</mat-icon>
  </button>
  }

  <!-- 🔘 SUBMIT BUTTON: Triggers search action (optional) -->
  <!-- TODO FOR YOU: Add [disabled] binding - when should this button be disabled? -->
  <!-- TODO FOR YOU: Try changing mat-raised-button to mat-flat-button or mat-stroked-button -->
  @if (showButton) {
  <button
    mat-raised-button
    color="primary"
    (click)="onSubmit()"
    class="search-button"
    type="button"
  >
    <mat-icon>search</mat-icon>
    Search
  </button>
  }
</div>

<!-- 🎁 BONUS CHALLENGES: Add these features yourself! -->
<!-- TODO FOR YOU: Add a loading spinner that shows during search -->
<!-- TODO FOR YOU: Add a dropdown for search filters (All, Users, Posts, etc.) -->
<!-- TODO FOR YOU: Add recent searches display when input is focused and empty -->
